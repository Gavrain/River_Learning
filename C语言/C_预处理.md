# C_预处理宏定义

## 1、无参数宏定义

其定义的一般形式为：` # define  标识符 字符串 `

其中的‘#’表示这是一条预处理命令

凡是以‘#’开头的均为预处理命令

define为宏定义命令。‘’标识符“为所定义的宏名。‘’字符串“可以是常数、表达式、格式串等。例如:`define PI 3.1415926`  ,它的作用是指定标识符PI来代替数3.1415926

## 2、对于宏定义还要说明一下几点

1. 宏定义是用宏名来表示一个字符串，在宏展开时又以该字符串取代宏名，**这只是一种简单的代换**，字符串中可以含任何字符，可以是常数，也可以是表达式，预处理程序对它不作任何检查。如有错误，只能在编译已被宏展开后的源程序时发现。
2. 宏定义不是说明或语句，**在行末不必加分号**，如加上分号则连分号也一起置换。
3. **宏定义必须写在函数之外**，其作用域为宏定义命令起到源程序结束。如要终止其作用域可使用#
   undef命令。
4. 宏名在源程序中**若用引号括起来**，则预处理程序不对其作宏代换。
5. 习惯上宏名用**大写字母表示**，以便于与变量区别。但也允许用小写字母。
6. 可用宏定义表示数据类型，使书写方便`#define INTEGER int`



## 3、宏定义表示数据类型和用typedef定义数据说明符的区别

>**区别**：宏定义只是简单的字符串代换，是在预处理完成的，而typedef是在**编译时处理**的，它不是作简单的代换，而是对类型说明符重新命名。被命名的标识符具有类型定义说明的功能

 

```c
#include <stdio.h>

#define PIN1 char*
typedef char* PIN2;

void main()
{
      PIN1  x, y;
      PIN2  a, b;

      printf("By #define : %d  %d\n\n", sizeof(x), sizeof(y));
      printf("By typedef : %d  %d\n\n", sizeof(a), sizeof(b));
}
```

