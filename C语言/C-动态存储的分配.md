## C_动态存储的分配

在数组一章中，曾介绍过数组的长度是预先定义好的，在整个程序中固定不变。Ｃ语言中不允许动态数组类型。

例如：inta[n];

**用变量表示长度，想对数组的大小作动态说明，这是错误的。**

但是在实际的编程中，往往会发生这种情况，即所需的内存空间取决于实际输入的数据，而无法预先确定。

**为了解决上述问题，Ｃ语言提供了一些内存管理函数，这些内存管理函数可以按需要动态地分配内存空间，也可把不再使用的空间回收待用，为有效地利用内存资源提供了手段**

常用的内存管理函数有以下三个：

1. 分配内存空间函数 malloc、calloc
2. 释放内存空间函数 free



## malloc函数

函数原型为void  *malloc(unsigned int size);



其作用是在内存的**动态存储区中分配一个长度为size的连续空间（size是一个无符号数）**。



**此函数的返回值是一个指向分配域起始地址的指针（类型为void）**。



如果此函数未能成功地执行（例如内存空间不足），则返回空指针(NULL)。



## calloc函数

函数原型为

void  *calloc（unsigned n, unsignedsize）;

其作用是在内存的动态存储区中分配ｎ个长度为size的连续空间。



函数返回一个指向分配域起始地址的指针；



如果分配不成功，返回NULL。



用calloc函数可以为一维数组开辟动态存储空间，n为数组元素个数，每个元素长度为size。



## free函数

函数原型为void free（void *p）;



其作用是释放由p指向的内存区，使这部分内存区能被其他变量使用。



p是最近一次调用calloc或malloc函数时返回的值。



free函数无返回值。