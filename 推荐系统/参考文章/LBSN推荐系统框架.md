#LBSN 推荐系统框架

推荐系统的主要任务就是利用网络信息中有价值的信息挖掘用户的行为模式，为用户提供准确的推荐内容，丰富用户的生活。由于位置社交网络中信息丰富，单纯利用用户的历史签到数据难以产生准确的推荐，所以，充分分析各类型信息并挖掘隐藏的信息，探索用户的真实需求成为地点推荐方法的重中之重。LBSN 推荐系统基本框架如图表示：

![1542594553150](../../../../../AppData/Local/Temp/1542594553150.png)

由图 2-5 可知，推荐的步骤如下：
1）原始数据收集：这是推荐系统获取与推荐对象有关的各种信息的首要环节。原
始数据是推荐过程的输入源。基于位置的社会化网络推荐对象主要包括**位置、活动、用**
**户、和社会媒体**，因此数据收集就是获取与这四种对象相关的信息。
2）数据与处理：原始数据信息中会包含无效的缺失的数据，所以需要进行数据的预处理，剔除错误数据、冲突数据，把处理结果形式化表达出来，将有效地数据作为最终的输入对象[30]。
3）推荐生成：推荐生成算法是推荐系统的核心部分。该部分主要是根据提供的
数据建立推荐模型，给出推荐结果。
4）推荐的效用评价：在将推荐结果呈现给用户时，需要结合用户的显示或隐式反馈，利用精确度、实时性、可用性、多样性等评价指标评价推荐系统的性能

##基于LBSN 的地点推荐方法 

**基于社交网络的地点推荐**

利用在线社交网络进行推荐主要通过分析研究用户的社交关系，挖掘潜在信息找出同类型用户来进行推荐。基于社交图谱的推荐主要依据的是目标用户与其他用户的共同的好友数量，利用社交关系能提高地点推荐的准确性

基于社交关系的地点推荐中用户关系示意如图 ，该图表示了 5 个用户之间的社交关系，用户之间的连线表示用户之间的朋友关系，表 2-1 统计了这 5 个用户的历史签到信息。

![1542594843382](../../../../../AppData/Local/Temp/1542594843382.png)

![1542594858664](../../../../../AppData/Local/Temp/1542594858664.png)

因此用户 B 和用户 C 签到过的大雁塔、兵马俑、华山可能会引起用户 A 的兴趣。在推荐中社交因素的影响通过是否为直接好友以及用户共同的好友数量来体现。指出用户之间的共同好友数量直接影响社交关系在推荐中的影响。
　　现实生活中，我们的好友会有很多，但是往往影响我们做决定的或者给我们提建议
的好友寥寥无几，并且与目标用户有相似好友集合的用户，可以作为目标用户的潜在用
户，所以，好友的影响有强弱之分。假设用户 u 与用户 v 之间的社交影响因子为 

![1542595519835](../../../../../AppData/Local/Temp/1542595519835.png)

其中，Fu，Fv 分别表示用户 u 和用户 v 的好友集合，μ表示一个调节因子，取值范围[0,1]。参数μ的意义在于平衡用户的直接好友与潜在好友的影响，如果μ越大，表示目标用户受到直接好友的影响越大，反之，μ
越小表示目标用户的潜在好友对目标用户的影响越大。在适当的情况下，μ的取值可以为 0，社交影响因子的计算公式转化为公式 
![1542595577365](../../../../../AppData/Local/Temp/1542595577365.png)

根据社交影响因子得到用户之间的社交关系影响，并按照 Top-N 的排序将前 N 个社交影响较大的用户组合为用户集 U'且 U'⊂U，将用户没有签到过的地点 l 推荐给用户u 的概率为公式 2-3：

![1542595833738](../../../../../AppData/Local/Temp/1542595833738.png)

其中，ck,l 表示用户 k 对地点 l 是否签到过，如果用户 k 对地点 l 有签到记录，则 ck,l=1，否则 ck,l=0。

**基于位置信息的地点推荐**

　　推荐系统不仅要研究用户的偏好，而且需要考虑地理位置的远近影响，这是因为地理位置的远近会影响用户的行为，用户更倾向于选择离自己当前位置较近的地点进行签到。比如当你逛街时到了午餐时间，一般说，你会避开距离远的餐馆，选择就近的餐馆解决午饭问题。所以，LBSN 的推荐系统在推荐地点时，需考虑距离的问题。研究用户的签到地点发现，用户签到的地点之间的距离一般很近，呈现出一种聚集的现象。
将这种影响因素应运用到基于位置社交网络的地点推荐中，可以一定程度上提高推荐的质量。

　　一般地点的位置表示采用经纬度信息来说明，两个地点之间的距离可以采用欧几里得距离，这是通常采用的一种距离的计算方式，又称欧氏距离，用来计算 m 维空间中两点直线距离。定义 A 地点 $l_a$的坐标为($lat_a,lon_a$),B地点$l_b$的坐标为($lat_b,lonb$),那么，欧几里得距离的计算如公式 2-4 所示：

![1542596261609](../../../../../AppData/Local/Temp/1542596261609.png)

欧几里得距离一般用来计算空间内两点的距离，由于地点位置处于球体的特殊性，更适用于计算地点距离的方式是大圆距离大圆距离指的是从球面的一点 A 出发，到达球面的另一点 B 所经过的最短路径的长度[35]。大圆距离的计算如公式 2-5 所示：

![1542596691212](../../../../../AppData/Local/Temp/1542596691212.png)

其中，R 是地球的平均半径，取值为 6371.009 千米

通常对于待推荐地点$ l_b $来说，与用户签到的历史地点$ la $之间的距离越小，被推荐的可能性越高，反之，地点 
$l_b$与地点 $l_a $之间的距离越大，被推荐的可能性越低。那么，待推荐地点 $l_b$ 推荐给目标用户的概率的计算如公式 2-6 所示：

![1542596822352](../../../../../AppData/Local/Temp/1542596822352.png)

推荐概率按照 Top-N 的排序方法对待推荐地点排序，给出的推荐列表就是考虑位置影响所得的推荐结果。











